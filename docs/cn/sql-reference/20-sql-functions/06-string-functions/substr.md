---
title: SUBSTR
---

从给定字符串的特定位置提取包含指定数量字符的字符串。

- 不带 `len` 参数的版本返回从字符串 `str` 的位置 `pos` 开始的子字符串。
- 带 `len` 参数的版本返回从字符串 `str` 的位置 `pos` 开始，长度为 `len` 的子字符串。

也可以为 `pos` 使用负值。在这种情况下，子字符串的开头是从字符串末尾向前数的 `pos` 个字符，而不是从开头开始。在任何形式的此函数中，`pos` 都可以使用负值。`pos` 为 0 时返回空字符串。要提取子字符串的第一个字符的位置被视为 1。

## 语法

```sql
SUBSTR(<str>, <pos>)

SUBSTR(<str>, <pos>, <len>)
```

## 参数

| 参数      | 描述                                                                                |
|-----------|------------------------------------------------------------------------------------|
| `<str>`   | 要从中提取字符的主字符串                                                           |
| `<pos>`   | 子字符串开始的位置（从 1 开始）。如果为负数，则从末尾开始计数                       |
| `<len>`   | 要提取的子字符串的最大长度                                                         |

## 别名

- [SUBSTRING](substring.md)
- [MID](mid.md)

## 返回类型

VARCHAR

## 示例

```sql
SELECT
  SUBSTRING('Quadratically', 5),
  SUBSTR('Quadratically', 5),
  MID('Quadratically', 5);

┌─────────────────────────────────────────────────────────────────────────────────────────────────┐
│ substring('quadratically' from 5) │ substring('quadratically' from 5) │ mid('quadratically', 5) │
├───────────────────────────────────┼───────────────────────────────────┼─────────────────────────┤
│ ratically                         │ ratically                         │ ratically               │
└─────────────────────────────────────────────────────────────────────────────────────────────────┘

SELECT
  SUBSTRING('Quadratically', 5, 6),
  SUBSTR('Quadratically', 5, 6),
  MID('Quadratically', 5, 6);

┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ substring('quadratically' from 5 for 6) │ substring('quadratically' from 5 for 6) │ mid('quadratically', 5, 6) │
├─────────────────────────────────────────┼─────────────────────────────────────────┼────────────────────────────┤
│ ratica                                  │ ratica                                  │ ratica                     │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```